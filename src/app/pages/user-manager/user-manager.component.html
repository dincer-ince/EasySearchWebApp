<div fxFlex fxLayout="column" fxLayoutAlign="start center">
  <mat-toolbar class="mat-elevation-z6" color="primary">
    <span>User Information</span>
  </mat-toolbar>

  <div style="min-height: 40px"></div>

  <div
    fxLayout="column" fxLayoutAlign="center center"
    *ngIf="this.service.user | async as user; else loading"
  >
    
  <mat-icon style="font-size: 10rem;width: 10rem;height:10rem">person</mat-icon>
  <div style="margin-top:20px"  fxLayout="row">
      <mat-form-field appearance="outline">
        <mat-label>Name</mat-label>
        <input (keyup.enter)="editName(user.id,name.value)" matInput #name value="{{user.userName}}" type="text">
        <button (click)="editName(user.id,name.value)" matSuffix mat-icon-button><mat-icon>edit</mat-icon></button>
      </mat-form-field>
      
  </div>


  <div>
    <mat-form-field style="margin-top:20px" appearance="outline">
      <mat-label>Email</mat-label>
      <input matInput #email value="{{user.email}}" type="text">
      <button (click)="editEmail(user.id,email.value)" matSuffix mat-icon-button><mat-icon>edit</mat-icon></button>
    </mat-form-field>
  </div>

  <mat-divider style="width:100%;margin-bottom:20px"></mat-divider>

  <h2 matSubheader>Change Password</h2>

    <mat-form-field style="margin-top:20px" appearance="outline">
      <mat-label>Old Password</mat-label>
      <input #old matInput type="password" >
    </mat-form-field>

    <mat-form-field style="margin-top:20px" appearance="outline">
      <mat-label>New Password</mat-label>
      <input #new1 matInput type="password">
    </mat-form-field>

    <mat-form-field style="margin-top:20px" appearance="outline">
        <mat-label>New Password</mat-label>
        <input #new2 matInput type="password">
    </mat-form-field>
    
    <div fxLayout="row">
        <button (click)="changePassword(old.value,new1.value,new2.value)" mat-raised-button color="primary">Submit</button>
    </div>
    <div style="color:red;margin-top:10px" *ngIf="this.error!=''">{{this.error}}</div>
    <div style="min-height: 50px;"></div>

  </div>
</div>

<ng-template #loading>
  <div fxLayout="row" fxLayoutAlign="center center">
    <mat-spinner></mat-spinner>
  </div>
</ng-template>
